<head>
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,500,600,700,800,900" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<header class="navbar">
    <span class="username">Welcome User</span>
    <a [routerLink]="['/UserProfile']"><i class="fas fa-home"></i>Home</a>
</header>
<h1 class="klasa">Profile Settings</h1>
<div class="main">
    <div class="section">
        <h2 (click)="changeNameDown()">Name & Surname <span class="arrow">{{ nameDown ? '▼' : '►' }}</span></h2>
        <div *ngIf="nameDown" class="section-content">
            <p class="boldovano">Name and Surname: <span class="nebold">{{ name }}</span></p>
            <button class="change-btn" (click)="changeVisibiltyIName()" >Change</button>
            <input *ngIf="isVisibleIName" [(ngModel)]="newName" placeholder="Enter new Name">
            <button class="save-changes-btn" (click)="changeName()" *ngIf="isVisibleButtonName">Save Changes</button>
        </div>
    </div>
    
    <hr>

    <div class="section">
        <h2 (click)="changeEmailDown()">Email <span class="arrow">{{ emailDown ? '▼' : '►' }}</span></h2>
        <div *ngIf="emailDown" class="section-content">
            <p class="boldovano">Email: <span class="nebold">{{ email }}</span></p>
            <button class="change-btn" (click)="changeVisibiltyIEmail()" >Change</button>
            <input *ngIf="isVisibleIEmail" [(ngModel)]="newEmail" placeholder="Enter new Email">
            <button class="save-changes-btn" (click)="changeEmail()" *ngIf="isVisibleButtonEmail">Save Changes</button>
        </div>
    </div>

    <hr>
    <div class="section">
        <h2 (click)="changePasswordDown()">Password <span class="arrow">{{ passwordDown ? '▼' : '►' }}</span></h2>
        <div *ngIf="passwordDown" class="section-content">
            <button class="change-btn" (click)="changeVisibiltyIPassword()" >Change</button>
            <input *ngIf="isVisibleIPasswordOld" [(ngModel)]="password" placeholder="Enter old Password" type="password">
            <input *ngIf="isVisibleIPasswordNew" [(ngModel)]="newPassword" placeholder="Enter new Password" type="password">
            <button class="save-changes-btn" (click)="changePassword()" *ngIf="isVisibleButtonpassword">Save Changes</button>
        </div>
    </div>

    <hr>

    <div class="section">
        <h2 (click)="changePhoneDown()">Phone Number <span class="arrow">{{ phoneDown ? '▼' : '►' }}</span></h2>
        <div *ngIf="phoneDown" class="section-content">
            <p class="boldovano">Phone Number: <span class="nebold">{{ phone }}</span></p>
            <button class="change-btn" (click)="changeVisibiltyIPhone()">Change</button>
            <input *ngIf="isVisibleIPhone" [(ngModel)]="newPhone" placeholder="Enter new Phone Number">
            <button *ngIf="isVisibleButtonPhone" class="save-changes-btn" (click)="changePhone()">Save Changes</button>
        </div>
    </div>

    <hr>

    <div class="section">
        <h2 (click)="changeCityDown()">City <span class="arrow">{{ cityDown ? '▼' : '►' }}</span></h2>
        <div *ngIf="cityDown" class="section-content">
            <p class="boldovano">City: <span class="nebold">{{ city }}</span></p>
            <button class="change-btn" (click)="changeVisibiltyICity()">Change</button>
            <input *ngIf="isVisibleICity" [(ngModel)]="newCity" placeholder="Enter new City">
            <button *ngIf="isVisibleButtonCity" class="save-changes-btn" (click)="changeCity()">Save Changes</button>
        </div>
    </div>

    <hr>

    <div class="section deactivate">
        <button (click)="changeVisibiltyDeactivate()">Deactivate Account</button>
        <input *ngIf="isVisibleDeactivateInput" placeholder="Enter password" [(ngModel)]="passwordValue" type="password">
        <button *ngIf="isVisibleDeactivateButton" (click)="deactivate()">Deactivate</button>
    </div>
</div>
